

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Line Intensity Profile Comparisons &mdash; TEMUL Toolkit v0.1-alpha documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API documentation" href="api_doc.html" />
    <link rel="prev" title="Masked FFT and iFFT" href="masked_fft_tutorial.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> TEMUL Toolkit
          

          
          </a>

          
            
            
              <div class="version">
                Version 0.1-alpha
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_temul.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="polarisation_vectors_tutorial.html">Plotting Polarisation and Movement Vectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure_map_tutorial.html">Plot Lattice Structure Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="masked_fft_tutorial.html">Masked FFT and iFFT</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Line Intensity Profile Comparisons</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#load-the-example-images">Load the Example Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compare-two-line-profiles-in-one-image">Compare two Line Profiles in one Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compare-two-images-with-line-profile">Compare two Images with Line Profile</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_doc.html">API documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TEMUL Toolkit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Line Intensity Profile Comparisons</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/line_profile_tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="line-intensity-profile-comparisons">
<span id="line-profile-tutorial"></span><h1>Line Intensity Profile Comparisons<a class="headerlink" href="#line-intensity-profile-comparisons" title="Permalink to this headline">¶</a></h1>
<p>The <code class="code python docutils literal notranslate"><span class="name"><span class="pre">temul</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">signal_plotting</span></span></code> module allows one to draw line intensity profiles
over images. The <code class="code python docutils literal notranslate"><span class="name"><span class="pre">compare_images_line_profile_one_image</span></span></code> can be used to
draw two line profiles on one image for comparison. In future we hope to expand
this function to allow for multiple line profiles on one image. The
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">compare_images_line_profile_two_images</span></span></code> function allows you to draw a line
profile on an image, and apply that same profile to another image (of the same shape).
This can be useful for comparing subsequent images in series or comparing experimental
and simulated images.</p>
<p>Check out the examples below for each comparison method.</p>
<div class="section" id="load-the-example-images">
<h2>Load the Example Images<a class="headerlink" href="#load-the-example-images" title="Permalink to this headline">¶</a></h2>
<p>Here we load some dummy data using a variation of Atomap’s
<code class="code python docutils literal notranslate"><span class="name"><span class="pre">get_simple_cubic_signal</span></span></code> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">temul.dummy_data</span> <span class="kn">import</span> <span class="n">get_simple_cubic_signal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imageA</span> <span class="o">=</span> <span class="n">get_simple_cubic_signal</span><span class="p">(</span><span class="n">image_noise</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imageA</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imageB</span> <span class="o">=</span> <span class="n">get_simple_cubic_signal</span><span class="p">(</span><span class="n">image_noise</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imageB</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampling</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;nm&#39;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/imageA.png"><img alt="_images/imageA.png" src="_images/imageA.png" style="width: 320.0px; height: 290.5px;" /></a>
<a class="reference internal image-reference" href="_images/imageB.png"><img alt="_images/imageB.png" src="_images/imageB.png" style="width: 320.0px; height: 290.5px;" /></a>
</div>
<div class="section" id="compare-two-line-profiles-in-one-image">
<h2>Compare two Line Profiles in one Image<a class="headerlink" href="#compare-two-line-profiles-in-one-image" title="Permalink to this headline">¶</a></h2>
<p>As with the <a class="reference internal" href="#line-profile-tutorial"><span class="std std-ref">Masked FFT and iFFT</span></a> tutorial, we can
choose points on the image. This time we use <code class="code python docutils literal notranslate"><span class="name"><span class="pre">choose_points_on_image</span></span></code>.
We need to choose four points for the <code class="code python docutils literal notranslate"><span class="name"><span class="pre">compare_images_line_profile_one_image</span></span></code>
function, as it draws two line profiles over one image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">temul.signal_plotting</span> <span class="k">as</span> <span class="nn">tmlplt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_profile_positions</span> <span class="o">=</span> <span class="n">tmlplt</span><span class="o">.</span><span class="n">choose_points_on_image</span><span class="p">(</span><span class="n">imageA</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_profile_positions</span>
<span class="go">[[61.75132848177407, 99.25182885155715],</span>
<span class="go"> [178.97030854763057, 96.60281235289372],</span>
<span class="go"> [61.75132848177407, 186.0071191827843],</span>
<span class="go"> [177.64580029829887, 184.6826109334526]]</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/choose_points_of_image_4points.gif"><img alt="_images/choose_points_of_image_4points.gif" class="align-center" src="_images/choose_points_of_image_4points.gif" style="width: 480.0px; height: 360.0px;" /></a>
<p>Now run the comparison function to display the two line intensity profiles.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tmlplt</span><span class="o">.</span><span class="n">compare_images_line_profile_one_image</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">imageA</span><span class="p">,</span> <span class="n">line_profile_positions</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">sampling</span><span class="o">=</span><span class="n">sampling</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="n">units</span><span class="p">,</span> <span class="n">arrow</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="n">linetrace</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/comparison1.png"><img alt="_images/comparison1.png" src="_images/comparison1.png" style="width: 519.6px; height: 387.59999999999997px;" /></a>
</div>
<div class="section" id="compare-two-images-with-line-profile">
<h2>Compare two Images with Line Profile<a class="headerlink" href="#compare-two-images-with-line-profile" title="Permalink to this headline">¶</a></h2>
<p>Using <code class="code python docutils literal notranslate"><span class="name"><span class="pre">choose_points_on_image</span></span></code>, we now choose two points on one image.
Then, we plot this line intensity profile over the same position in two images.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">line_profile_positions</span> <span class="o">=</span> <span class="n">tmlplt</span><span class="o">.</span><span class="n">choose_points_on_image</span><span class="p">(</span><span class="n">imageA</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_profile_positions</span>
<span class="go">[[127.31448682369383, 46.93375300295452],</span>
<span class="go"> [127.97674094835968, 176.7355614374623]]</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/choose_points_of_image_2points.gif"><img alt="_images/choose_points_of_image_2points.gif" class="align-center" src="_images/choose_points_of_image_2points.gif" style="width: 480.0px; height: 360.0px;" /></a>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tmlplt</span><span class="o">.</span><span class="n">compare_images_line_profile_two_images</span><span class="p">(</span><span class="n">imageA</span><span class="p">,</span> <span class="n">imageB</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">line_profile_positions</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">reduce_func</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">sampling</span><span class="o">=</span><span class="n">sampling</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="n">units</span><span class="p">,</span> <span class="n">crop_offset</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">imageA_title</span><span class="o">=</span><span class="s2">&quot;Image A&quot;</span><span class="p">,</span> <span class="n">imageB_title</span><span class="o">=</span><span class="s2">&quot;Image B&quot;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/comparison2.png"><img alt="_images/comparison2.png" src="_images/comparison2.png" style="width: 505.0px; height: 162.5px;" /></a>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api_doc.html" class="btn btn-neutral float-right" title="API documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="masked_fft_tutorial.html" class="btn btn-neutral float-left" title="Masked FFT and iFFT" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Eoghan O&#39;Connell

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>